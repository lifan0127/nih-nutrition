<div>
  <svg xmlns='http://www.w3.org/2000/svg' width='800' height='400'>
    <text x='480' y='70' font-size='16'>
      Nutrition Research Roadmap 2016â€’2021
    </text>
    <text *ngIf='description' x='480' y='100' font-size='13'>
      <tspan *ngFor='let t of stringDivider(description, 50); let j=index;' 
        x='480' 
        [attr.y]='100+20*j'>{{ t }}</tspan>
    </text>
    
    <g *ngFor='let t of topics; let i=index;'
       (mouseenter)='addHighlight(i)' (mouseleave)='removeHighlight()'>
      <g [ngSwitch]='t.id.slice(0,2)'>
        <circle *ngSwitchWhen='"Q1"'  
          [attr.cx]='250+t.x' [attr.cy]='200-t.y' r='18' fill='#4EADFF'/>
        <circle *ngSwitchWhen='"Q2"'  
          [attr.cx]='250+t.x' [attr.cy]='200-t.y' r='18' fill='#6CDA6D'/>
        <circle *ngSwitchWhen='"Q3"'  
          [attr.cx]='250+t.x' [attr.cy]='200-t.y' r='18' fill='#FF9D82'/>
      </g>
      <text [attr.x]='250+t.x-9' [attr.y]='200-t.y+6'>{{ t.id.slice(2) }}</text>
    </g>      
    <path d='M 253.4 80.0 A 120 120 0 0 1 368.8 217.1' stroke-width='55' 
      stroke='#4EADFF' fill='none' />
    <path d='M 368.2 220.5 A 120 120 0 0 1 159.3 278.6' stroke-width='55' 
      stroke='#6CDA6D' fill='none' />
    <path d='M 157.1 276.0 A 120 120 0 0 1 250 80' stroke-width='55' 
      stroke='#FF9D82' fill='none' />
    
    <defs>
      <path id='tp1-1' d='M 257.6 67.2 A 133 133 0 0 1 381.6 218.9'></path>
      <path id='tp1-2' d='M 256.7 82.2 A 118 118 0 0 1 366.8 216.8'></path>
      <path id='tp1-3' d='M 255.9 97.2 A 103 103 0 0 1 352.0 214.6'></path>
      
      <path id='tp2-1' d='M 173.3 278.9 A 110 110 0 0 0 358.4 218.8'></path>
      <path id='tp2-2' d='M 160.8 291.8 A 128 128 0 0 0 376.1 221.8'></path>
      
      <path id='tp3-1' d='M 142.4 278.2 A 133 133 0 0 1 250 67'></path>
      <path id='tp3-2' d='M 154.9 269.9 A 118 118 0 0 1 250 82'></path>
      <path id='tp3-3' d='M 166.7 260.5 A 103 103 0 0 1 250 97'></path>
    </defs>
    
    <text font-size='13'>
      <textPath xlink:href='#tp1-1'>
        Q1: How can we better understand
      </textPath>
      <textPath xlink:href='#tp1-2'>
        and define eating patterns to 
      </textPath>
      <textPath xlink:href='#tp1-3'>
        improve and sustain health?
      </textPath>
      
      <textPath xlink:href='#tp2-1'>
        Q2: What can be done to help people
      </textPath>
      <textPath xlink:href='#tp2-2'>
        choose healthy eating patterns?
      </textPath>
      
      <textPath xlink:href='#tp3-1'>
        Q3: How can we develop and engage innovative
      </textPath>
      <textPath xlink:href='#tp3-2'>
        methods and systems to accelerate
      </textPath>
      <textPath xlink:href='#tp3-3'>
        discoveries in human nutrition?
      </textPath>
    </text>
    <g *ngIf='selectedTopic'
      (mouseenter)='onSelected=true' (mouseleave)='onSelected=false;removeHighlight();'>
      <rect [attr.x]='250+selectedTopic.x' [attr.y]='200-selectedTopic.y-16' 
        width='400' [attr.height]='stringDivider(selectedTopic.topic, 64).length*12+10' 
        fill='#FBFBFB' fill-opacity='0.95' />
        <text [attr.x]='250+selectedTopic.x+24' 
              [attr.y]='200-selectedTopic.y' font-size='12'>
          <tspan *ngFor='let t of stringDivider(selectedTopic.topic, 64); let j=index;' 
            [attr.x]='250+selectedTopic.x+24' 
            [attr.y]='200-selectedTopic.y+12*j'>{{ t }}</tspan>
        </text>
      <g [ngSwitch]='selectedTopic.id.slice(0,2)'>
        <circle *ngSwitchWhen='"Q1"'  
          [attr.cx]='250+selectedTopic.x' [attr.cy]='200-selectedTopic.y' r='18' fill='#4EADFF'/>
        <circle *ngSwitchWhen='"Q2"'  
          [attr.cx]='250+selectedTopic.x' [attr.cy]='200-selectedTopic.y' r='18' fill='#6CDA6D'/>
        <circle *ngSwitchWhen='"Q3"'  
          [attr.cx]='250+selectedTopic.x' [attr.cy]='200-selectedTopic.y' r='18' fill='#FF9D82'/>
      </g>
      <text [attr.x]='250+selectedTopic.x-9' 
            [attr.y]='200-selectedTopic.y+6'>{{ selectedTopic.id.slice(2) }}</text>
    </g>
  </svg>
</div>